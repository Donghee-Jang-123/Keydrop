spring:
  # profiles: active 설정을 제거하여 환경 변수에 따라 유연하게 작동하게 합니다.

  sql:
    init:
      mode: always # 초기 데이터가 필요할 때만 사용하세요. 운영 중에는 never 권장.

  servlet:
    multipart:
      max-file-size: 50MB
      max-request-size: 50MB

  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    defer-datasource-initialization: true
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    
  server:
    port: ${PORT:8080}
    address: 0.0.0.0 # 외부 접속을 위해 바인딩 주소 명시

app:
  media:
    # Railway Variables에 MEDIA_PATH가 설정되어 있어야 합니다. (예: /app/media)
    dir: ${MEDIA_PATH:/app/media} 
    urlPrefix: "/media"

jwt:
  # 환경 변수 JWT_SECRET을 읽어오고, 없으면 뒤의 기본값을 사용합니다.
  secret: ${JWT_SECRET:KeydropDefaultSecretKeyForJwtAuthentication2026!@#}

google:
  client-id: ${GOOGLE_CLIENT_ID:}
  client-secret: ${GOOGLE_CLIENT_SECRET:}